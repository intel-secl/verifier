image: golang:latest

before_script:
  - cd $CI_PROJECT_DIR

stages:
  - build
  - test

test:
  stage: test
  tags:
    - go
  script:
    - go test

compile:
  stage: build
  tags:
    - go
  script:
    - go build ./...